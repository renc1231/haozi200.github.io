<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人像摄影 | 任文浩的个人主页</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles/background.css">
    <link rel="stylesheet" href="styles/photography.css">
    <link rel="stylesheet" href="styles/fullscreen-gallery.css">
</head>
<body>
    <!-- 返回按钮 - 固定在左上角 -->
    <a href="photos.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
    </a>

    <!-- 全屏画廊容器 -->
    <div class="fullscreen-gallery">
        <!-- 照片项 1 -->
        <div class="fullscreen-photo-item active">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/2f8b5859d21992c16323f4d529199c6.jpg" alt="光影侧脸">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">光影侧脸</h2>
                <p class="photo-subtitle">自然光线勾勒出完美侧脸，明暗交界处展现人物立体感，一瞬间的表情定格了内心深处最真实的情感流露。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>北京798艺术区</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年春</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Sony A7III</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/2.8, 1/200s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 2 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/03a9a6991e378adb07c94606eb6f2fb.jpg" alt="微笑瞬间">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">旷野之仰</h2>
                <p class="photo-subtitle">画面中，一个人站在广袤的枯黄草地上，身着带条纹的黑色运动服，仰头望向天空。远处是连绵的山脉，天色湛蓝，整个场景辽阔而寂静，仿佛人物在感受着大自然的广阔，尽显自由与豁达 。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>上海外滩</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年秋</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Canon EOS R5</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/4, 1/160s, ISO 200</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 3 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/6e48e0014f34a879a3b55fd1ee0b789.jpg" alt="黑白肖像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">夜饮时光</h2>
                <p class="photo-subtitle">在暖色调灯光下，一位长发女子身着蛇纹花纹吊带搭配浅色开衫，正轻啜高脚杯中的饮品。她佩戴着项链和大耳环，神态惬意，背景略显模糊昏暗，营造出一种温馨且放松的氛围，仿佛在享受独属于自己的休闲时刻。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>杭州西湖</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年冬</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Fujifilm X-T4</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/2, 1/250s, ISO 400</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 4 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/31a7089fcb317c682c6060e63b597b2.jpg" alt="侧光人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">枫叶下的秘语</h2>
                <p class="photo-subtitle">画面中，一位长发女子身着黑色皮衣，手持一片金黄枫叶，半掩脸庞。深邃的眼眸看向镜头，在暗色背景衬托下，女子的神态更显神秘，仿佛在借枫叶诉说心事，整体氛围文艺且富有故事感 。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>北京三里屯</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年夏</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Canon EOS R5</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/8, 1/1000s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 5 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/37e4d0242387e2dc0cfeca17fdc59cb.jpg" alt="时尚人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">旷野中的仰望</h2>
                <p class="photo-subtitle">画面中，一个人立于广袤的枯黄草地间，身着带条纹的黑色上衣。此人仰头望向天空，远处是连绵的山脉和淡蓝色的天空。整个场景辽阔而宁静，仿佛人物在与大自然对话，尽显自由与惬意 。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>北京摄影棚</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年夏</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Sony A7R IV</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/5.6, 1/125s, ISO 200</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 6 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/8367ef51a57a09279029522ab965213.jpg" alt="商业人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">夜酌时光</h2>
                <p class="photo-subtitle">在暖调光影中，一位长发女子身着蛇纹吊带上衣，外搭浅色开衫，正轻抿高脚杯中的饮品。她佩戴着细项链和大耳环，神态优雅。背景略显昏暗且模糊，营造出一种静谧而迷人的氛围，仿佛是在享受独属于自己的悠闲时光。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>上海商业区</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年秋</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Nikon Z7 II</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/4, 1/200s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 7 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/photos/portrait/b25e7f6e4a3ad48983336bd4f2f2ce0.jpg" alt="城市人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">枫叶寄情</h2>
                <p class="photo-subtitle">画面中，一位长发女子身着黑色皮衣，手持一片金黄枫叶，枫叶半掩住她的脸庞。暗黑色背景下，女子眼神柔和，神情温婉，自然的光影勾勒出她的轮廓，整体氛围静谧而富有诗意，尽显少女的温柔与灵动 。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>广州珠江新城</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年春</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Fujifilm X-T4</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/4, 1/320s, ISO 200</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 8 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="E:\101MY ALL\AI Trainer\personal website\images\photos\portrait\c6211df5bf2fcc38141d9391e054553.jpg" alt="自然环境人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">水畔的静美瞬间</h2>
                <p class="photo-subtitle">一位身着白色长裙、头戴白花装饰的女子，在澄澈湛蓝的水域边微微蹲下。她的身影与水中倒影相映，周围环境纯净空灵，仿佛一幅绝美的画卷，尽显人与自然和谐之美，给人一种宁静悠远的感觉。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>云南大理</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年夏</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Canon EOS R6</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/5.6, 1/400s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 9 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="E:\101MY ALL\AI Trainer\personal website\images\photos\portrait\ed050638e88015d43d2d628dc87bb1e.jpg" alt="创意人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">光影下的个性瞬间</h2>
                <p class="photo-subtitle">画面中，一位长发女子在橙红色灯光的映衬下，双手摆弄头发，眼神看向一侧，表情略带一丝冷峻。她身着浅色外套，身后是木质背景，灯光营造出强烈的氛围感，展现出时尚又个性的气质。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>深圳创意园</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年冬</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Sony A7R IV</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/2.8, 1/60s, ISO 400</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 10 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="E:\101MY ALL\AI Trainer\personal website\images\photos\portrait\ffee9d3f1384a5ca5ee793ca7a3483e.jpg" alt="多重曝光人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">闺蜜的欢乐时光</h2>
                <p class="photo-subtitle">图中两位长发女生面带笑容，靠在一起。左边女生穿灰色带红条纹上衣，右边女生穿着带有毛绒装饰的衣物。背景有绿色灯光，照片右下角显示拍摄时间为 2025 年 1 月 30 日 17 点 18 分，氛围轻松愉快 。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>成都锦里</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年秋</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Canon EOS R5</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/8, 1/1000s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 11 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/portrait11.jpg" alt="时尚人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">旷野中的沉思</h2>
                <p class="photo-subtitle">画面中，一个人置身于广袤的枯黄草海，远处是连绵的山脉，在淡蓝色天空和朦胧雾气的衬托下，显得格外壮阔。人物背对镜头，融入这自然美景中，尽显人与自然和谐共处的意境，氛围宁静而悠远。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>北京摄影棚</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年夏</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Sony A7R IV</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/5.6, 1/125s, ISO 200</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 12 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/portrait12.jpg" alt="商业人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">街头的时尚瞬间</h2>
                <p class="photo-subtitle">一位女子戴着浅紫色帽子和黑色墨镜，身穿棕色大衣搭配灰色高领毛衣，发丝随风飘动。她身旁有一根木柱，背景是蓝天和模糊的建筑物，整体画面展现出一种随性又时尚的气质。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>上海商业区</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年秋</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Nikon Z7 II</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/4, 1/200s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 13 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/portrait13.jpg" alt="城市人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">暗光下的思绪</h2>
                <p class="photo-subtitle">在暖橙色光线营造的氛围中，一位长发女子倚靠在栏杆旁，眼神深邃看向镜头。她穿着浅色开衫和带有花纹的内搭，背景昏暗且有些模糊的物件，增添了神秘氛围，整体画面充满艺术感。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>广州珠江新城</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年春</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Fujifilm X-T4</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/4, 1/320s, ISO 200</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 14 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/portrait14.jpg" alt="自然环境人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">自然之旅</h2>
                <p class="photo-subtitle">自然环境中的人物，展现人与自然的和谐共处，大自然的壮美成为人物最好的背景。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>云南大理</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年夏</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Canon EOS R6</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/5.6, 1/400s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 15 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/portrait15.jpg" alt="创意人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">光影游戏</h2>
                <p class="photo-subtitle">创意光影效果，展现独特的视觉体验，打破常规的拍摄手法带来意想不到的艺术效果。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>深圳创意园</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2023年冬</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Sony A7R IV</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/2.8, 1/60s, ISO 400</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 照片项 16 -->
        <div class="fullscreen-photo-item">
            <div class="fullscreen-photo-wrapper">
                <img src="images/portrait16.jpg" alt="多重曝光人像">
            </div>
            <div class="photo-description">
                <h2 class="photo-title">多重曝光</h2>
                <p class="photo-subtitle">多重曝光技术创造梦幻效果，将不同元素融合在一起，展现超现实的视觉体验与艺术表达。</p>
                <div class="photo-details">
                    <div class="photo-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>成都锦里</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>2022年秋</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-camera"></i>
                        <span>Canon EOS R5</span>
                    </div>
                    <div class="photo-detail-item">
                        <i class="fas fa-sliders-h"></i>
                        <span>f/8, 1/1000s, ISO 100</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 导航控件 -->
        <div class="fullscreen-nav">
            <button class="nav-btn prev-btn" aria-label="上一张"><i class="fas fa-chevron-up"></i></button>
            <div class="nav-indicators">
                <span class="indicator active" data-index="0"></span>
                <span class="indicator" data-index="1"></span>
                <span class="indicator" data-index="2"></span>
                <span class="indicator" data-index="3"></span>
                <span class="indicator" data-index="4"></span>
                <span class="indicator" data-index="5"></span>
                <span class="indicator" data-index="6"></span>
                <span class="indicator" data-index="7"></span>
                <span class="indicator" data-index="8"></span>
                <span class="indicator" data-index="9"></span>
            </div>
            <button class="nav-btn next-btn" aria-label="下一张"><i class="fas fa-chevron-down"></i></button>
        </div>

        <!-- 页面导航点 -->
        <div class="page-dots">
            <div class="page-dot active" data-index="0"></div>
            <div class="page-dot" data-index="1"></div>
            <div class="page-dot" data-index="2"></div>
            <div class="page-dot" data-index="3"></div>
            <div class="page-dot" data-index="4"></div>
            <div class="page-dot" data-index="5"></div>
            <div class="page-dot" data-index="6"></div>
            <div class="page-dot" data-index="7"></div>
            <div class="page-dot" data-index="8"></div>
            <div class="page-dot" data-index="9"></div>
        </div>

        <!-- 滚动提示 -->
        <div class="scroll-indicator">
            <div class="scroll-indicator-text">向下滚动</div>
            <div class="scroll-indicator-icon"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const photoItems = document.querySelectorAll('.fullscreen-photo-item');
            const indicators = document.querySelectorAll('.indicator');
            const pageDots = document.querySelectorAll('.page-dot');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            const scrollIndicator = document.querySelector('.scroll-indicator');
            let currentIndex = 0;
            let isAnimating = false;
            
            // 检测竖屏照片并添加相应的类
            photoItems.forEach(item => {
                const img = item.querySelector('img');
                
                // 图片加载完成后检查宽高比
                img.onload = function() {
                    if (this.naturalHeight > this.naturalWidth) {
                        // 竖屏照片
                        this.classList.add('portrait');
                        item.classList.add('has-portrait');
                    } else {
                        // 横屏照片
                        this.classList.remove('portrait');
                        item.classList.remove('has-portrait');
                    }
                };
                
                // 如果图片已经加载完成，立即检查
                if (img.complete) {
                    if (img.naturalHeight > img.naturalWidth) {
                        img.classList.add('portrait');
                        item.classList.add('has-portrait');
                    }
                }
            });
            
            // 初始化显示第一张图片
            updateActivePhoto(0);
            
            // 显示指定索引的图片
            function updateActivePhoto(index) {
                if (isAnimating) return;
                isAnimating = true;
                
                // 移除所有active类
                photoItems.forEach((item, i) => {
                    item.classList.remove('active', 'prev', 'next');
                    
                    // 设置前后图片的状态
                    if (i < index) {
                        item.classList.add('prev');
                    } else if (i > index) {
                        item.classList.add('next');
                    }
                });
                
                // 设置当前图片为active
                photoItems[index].classList.add('active');
                
                // 更新指示器状态
                indicators.forEach((indicator, i) => {
                    indicator.classList.toggle('active', i === index);
                });
                
                // 更新页面导航点状态
                pageDots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === index);
                });
                
                // 滚动当前指示器到视图中
                if (index > 2) {
                    const activeIndicator = indicators[index];
                    const navIndicators = document.querySelector('.nav-indicators');
                    navIndicators.scrollTop = activeIndicator.offsetTop - navIndicators.offsetHeight / 2;
                    
                    const activeDot = pageDots[index];
                    const pageDotContainer = document.querySelector('.page-dots');
                    pageDotContainer.scrollTop = activeDot.offsetTop - pageDotContainer.offsetHeight / 2;
                }
                
                currentIndex = index;
                
                // 如果是最后一张图片，隐藏滚动提示
                if (index === photoItems.length - 1) {
                    scrollIndicator.classList.add('hidden');
                } else {
                    scrollIndicator.classList.remove('hidden');
                }
                
                // 动画完成后重置状态
                setTimeout(() => {
                    isAnimating = false;
                }, 1000);
            }
            
            // 上一张图片
            prevBtn.addEventListener('click', function() {
                if (currentIndex > 0) {
                    updateActivePhoto(currentIndex - 1);
                }
            });
            
            // 下一张图片
            nextBtn.addEventListener('click', function() {
                if (currentIndex < photoItems.length - 1) {
                    updateActivePhoto(currentIndex + 1);
                }
            });
            
            // 点击指示器切换图片
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', function() {
                    updateActivePhoto(index);
                });
            });
            
            // 点击页面导航点切换图片
            pageDots.forEach((dot, index) => {
                dot.addEventListener('click', function() {
                    updateActivePhoto(index);
                });
            });
            
            // 键盘导航
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                    if (currentIndex > 0) {
                        updateActivePhoto(currentIndex - 1);
                    }
                } else if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                    if (currentIndex < photoItems.length - 1) {
                        updateActivePhoto(currentIndex + 1);
                    }
                }
            });
            
            // 鼠标滚轮导航
            let wheelThrottle = false;
            document.addEventListener('wheel', function(e) {
                if (wheelThrottle) return;
                wheelThrottle = true;
                
                if (e.deltaY > 0) {
                    if (currentIndex < photoItems.length - 1) {
                        updateActivePhoto(currentIndex + 1);
                    }
                } else {
                    if (currentIndex > 0) {
                        updateActivePhoto(currentIndex - 1);
                    }
                }
                
                setTimeout(() => {
                    wheelThrottle = false;
                }, 1000);
            }, {passive: true});
            
            // 触摸滑动支持
            let touchStartY = 0;
            let touchThrottle = false;
            
            document.addEventListener('touchstart', function(e) {
                touchStartY = e.touches[0].clientY;
            }, {passive: true});
            
            document.addEventListener('touchend', function(e) {
                if (touchThrottle) return;
                touchThrottle = true;
                
                const touchEndY = e.changedTouches[0].clientY;
                const diff = touchStartY - touchEndY;
                
                if (Math.abs(diff) > 50) { // 最小滑动距离
                    if (diff > 0) { // 向上滑动，显示下一张
                        if (currentIndex < photoItems.length - 1) {
                            updateActivePhoto(currentIndex + 1);
                        }
                    } else { // 向下滑动，显示上一张
                        if (currentIndex > 0) {
                            updateActivePhoto(currentIndex - 1);
                        }
                    }
                }
                
                setTimeout(() => {
                    touchThrottle = false;
                }, 1000);
            }, {passive: true});
            
            // 优化鼠标滚轮事件处理
            document.addEventListener('wheel', function(e) {
                if (wheelThrottle) return;
                wheelThrottle = true;
                
                // 防止默认滚动行为
                e.preventDefault();
                
                if (e.deltaY > 0) {
                    if (currentIndex < photoItems.length - 1) {
                        updateActivePhoto(currentIndex + 1);
                    }
                } else {
                    if (currentIndex > 0) {
                        updateActivePhoto(currentIndex - 1);
                    }
                }
                
                setTimeout(() => {
                    wheelThrottle = false;
                }, 1000);
            }, {passive: false}); // 注意这里改为passive: false以允许preventDefault
            
            // 添加滑动手势支持
            let startX, startY, endX, endY;
            let isScrolling = false;
            
            document.addEventListener('mousedown', function(e) {
                startX = e.clientX;
                startY = e.clientY;
                isScrolling = true;
            });
            
            document.addEventListener('mouseup', function(e) {
                if (!isScrolling) return;
                
                endX = e.clientX;
                endY = e.clientY;
                
                const diffX = startX - endX;
                const diffY = startY - endY;
                
                // 判断是垂直滑动还是水平滑动
                if (Math.abs(diffY) > Math.abs(diffX) && Math.abs(diffY) > 50) {
                    if (diffY > 0) { // 向上滑动
                        if (currentIndex < photoItems.length - 1) {
                            updateActivePhoto(currentIndex + 1);
                        }
                    } else { // 向下滑动
                        if (currentIndex > 0) {
                            updateActivePhoto(currentIndex - 1);
                        }
                    }
                }
                
                isScrolling = false;
            });
            
            // 添加滚动指示器点击事件
            scrollIndicator.addEventListener('click', function() {
                if (currentIndex < photoItems.length - 1) {
                    updateActivePhoto(currentIndex + 1);
                }
            });
        });
    </script>